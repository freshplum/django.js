<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>django.js</title>
		
		<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCoreDefault.css" rel="stylesheet" type="text/css" />
		<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
		<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js" type="text/javascript"></script>
		<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script>
		<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPython.js" type="text/javascript"></script>
		<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js" type="text/javascript"></script>
		<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPython.js" type="text/javascript"></script>

    <style>
			body{
				margin: 0 auto;
				width: 800px;
			}
			
		</style>
  </head>
  <body>
		<h1>django.js</h1>
		<ul>
			<li><a href="#intro">Introduction</a></li>
			<li><a href="#motivation">Motivation</a></li>
			<li><a href="#">Getting Started</a></li>
			<li><a href="#">Views</a>
				<ul>
					<li><a href="#load">load</a></li>
					<li><a href="#unload">unload</a></li>
					<li><a href="#required">Required views</a></li>
					<li><a href="#synchronicity">Synchronicity with required views</a></li>
				</ul>
			</li>
			<li><a href="#options">Options</a>
				<ul>
					<li><a href="#urls">urls</a></li>
					<li><a href="#no_match">no_match</a></li>
				</ul>
			</li>
			<li><a href="#">Methods</a>
				<ul>
					<li><a href="#urls">url</a></li>
					<li><a href="#urls">pushstate</a></li>
					<li><a href="#no_match">anchors</a></li>
					<li><a href="#no_match">toggle</a></li>
				</ul>
			</li>
		</ul>
		<div>
			<a name="intro"><a>
			<h2>Introduction</h2>
			<p>Django.js is a lightweight jquery plugin (requires jquery 1.7) to help you build dynamic websites by 
				offloading your front-end "view" logic into client-side javascript, while at the same time 
				maintaining a conventional "web-like" feel with consistent URLs.
			</p>
			<p>
				Django.js works by "hijacking" the anchor tags in your webpage so that when a user
				clicks on a link, instead of reloading a new webpage, a call is made to the browser's
				<a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history#The_pushState().C2.A0method">pushState method</a>
				to update the page's URL (without a page reload) followed by a call to a method
				(that you define) to provide the appropriate view logic to update the page.
			</p>
			<p>
				If you're familiar with Django, the python web framework, you'll notice a similarity in
				Django.js's separation of logic.
			</p>
			<p>Python Django</p>
			<pre class="brush: python">
				# urls patterns
				urls = patterns('',
				    url(r'^$', index_view, name="index"),
						url(r'^post/(?P&lt;id>\d{4})/$', post_view, name="post"))
				...
				
				# views
				def index(request):
					... some logic
				
				def post(request, id):
					... some other logic
			</pre>
			Django.js
			<pre class="brush: js">
				&lt;script>
				// url patterns
				$(window).django({
					urls: [
						{url: /\//, view: index_view, name: 'index'},
						{url: /\/post\/(.[^\/]*)\/?/, view: post_view, name: 'post'}
					]
				});
				...
				
				// views
				function index_view(){
					this.load = function(url){
						// some logic
					}
				}
				
				function post_view(){
					this.load = function(url, id){
						// some other logic
					}
				}
				&lt;/script>
			</pre>
			</div>
			<div>
				<a name="motivation"><a>
				<h2>Motivation</h2>
				<p>At freshplum, we wanted to build our web console on top of our API in the exact same
					way that any third party developer could create a app powered by our API. That is, we wanted the code
					to live entirely client be side and access our restful API the same way that a developer could. However,
					at the same time, we still wanted it to "feel" like a website. We wanted nicely formed urls 
					that updated 
				</p>
			</div>
			<p>
				Here is a basic example to give you an idea:<br>
				<pre class="brush: js">
					 &lt;head&gt;
					  &lt;script type="text/javascript" src="jquery.js"&gt;
					  &lt;script type="text/javascript" src="jquery.django.js"&gt;
					  &lt;script>
					  $(window).ready(function(){
							$(window).django({
						    urls:[
									{url: /\/home\//, view: home, name: 'home'},
									{url: /\/post\/(.[^\/]*)\/?/, view: post, name: 'post'},
									{url: /\/about\/?$/, view: about, name: 'about'},
									{url: /\/about\/contact\/?$/, view: contact, name: 'contact'}
								]
						   });
						});
					  &lt;/script>
					 &lt;/head&gt;
					 &lt;body&gt;
					 &lt;/body&gt;
					&lt;/html&gt;
				</pre>
			</p>
			<p>
				<pre class="brush: js">
					&lt;script>
					function home(){
						this.render(){
							
						}
					}
					function post(){
						this.render(){
							
						}
					}
					function about(){
						this.render(){
							
						}
					}
					function contact(){
						this.requires = about
						this.render(){
							
						}
					}
					&lt;/script>
				</pre>
			</p>
		</div>

		<div>
			<a name="start"><a>
			<h2>Getting Started</h2>
			<p>Anyone familiar with the Django python web framework will find a similar logical separation
			</p>
		</div>
		<script type="text/javascript">
			SyntaxHighlighter.defaults['toolbar'] = false;
			SyntaxHighlighter.defaults['html-script'] = true;
			
			SyntaxHighlighter.all()
		</script>
	</body>
	</html>
		
